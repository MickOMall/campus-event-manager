<!DOCTYPE html>
<html>
<head>
  <title>Campus Event Manager</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Campus Events</h1>

  <!-- Link to create a new event -->
  <a href="/events/new">Add New Event</a>

  <!-- Sorting links -->
  <p>Sort by: 
    <a href="/?sort=createdAt">Creation Date</a> | 
    <a href="/?sort=date">Event Date</a>
  </p>

  <!-- Events list -->
  <% if (events.length === 0) { %>
    <p>No events found.</p>
  <% } else { %>
    <ul>
      <% events.forEach(event => { %>
        <li>
          <strong><%= event.title %></strong> - <%= event.date ? event.date.toDateString() : 'No date' %>
          <p><%= event.description %></p>

          <!-- Edit link -->
          <a href="/events/<%= event._id %>/edit">Edit</a>

          <!-- Delete form -->
          <form action="/events/<%= event._id %>?_method=DELETE" method="POST" style="display:inline;">
            <button type="submit">Delete</button>
          </form>
        </li>
      <% }) %>
    </ul>
  <% } %>
</body>
</html>
